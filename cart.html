
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart - Daraz</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* Existing CSS (style.css or inline) - No need to repeat all, just add/modify */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: #f7f7f7; /* Light grey background for body */
            color: #212121;
            line-height: 1.5;
        }

        .header {
            background: linear-gradient(180deg, #f85606, #ff8c00);
            padding: 8px 10px;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-back {
            color: #fff;
            font-size: 20px;
        }

        .header-search {
            flex: 1;
            margin: 0 15px;
            position: relative;
            background: #fff;
            border-radius: 20px;
            padding: 3px 15px;
        }

        .header-search input {
            width: 100%;
            border: none;
            outline: none;
            font-size: 14px;
            color: #757575;
            background: transparent;
        }

        .header-search input::placeholder {
            color: #757575;
        }

        .header-icons {
            display: flex;
            align-items: center;
        }

        .header-icons a {
            color: #fff;
            font-size: 20px;
            margin-left: 15px;
            text-decoration: none;
            position: relative;
        }

        .header-icons .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #fff;
            color: #f85606;
            font-size: 10px;
            padding: 2px 5px;
            border-radius: 50%;
            font-weight: 500;
        }

        .cart-container {
           
           margin-top:13%;
        }

        .cart-summary {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            padding: 20px;
        }

        .cart-summary h2 {
            font-size: 20px;
            margin-bottom: 15px;
            color: #212121;
            border-bottom: 2px solid #e8e8e8;
            padding-bottom: 10px;
        }

        #cartItems {
            margin-bottom: 15px;
        }

        .cart-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px dashed #e8e8e8;
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .cart-item img {
            width: 100px; /* Increased image size */
            height: 100px; /* Increased image size */
            object-fit: contain;
            margin-right: 15px;
            border-radius: 8px;
            background-color: #f5f5f5;
        }

        .cart-item-details {
            flex: 1;
            display: flex;
            flex-direction: column; /* Stack details vertically */
        }

        .cart-item-name {
            font-weight: 500;
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: #f85606;
            font-weight: bold;
            margin-bottom: 5px; /* Space below price */
        }

        .cart-quantity-controls {
            display: flex;
            align-items: center;
            margin-bottom: 10px; /* Space below quantity controls */
        }

        .cart-quantity-controls button {
            background: #f7f7f7;
            border: 1px solid #e8e8e8;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 5px;
        }

        .cart-quantity-controls input {
            width: 40px;
            text-align: center;
            padding: 5px;
            border: 1px solid #e8e8e8;
            border-radius: 5px;
            margin: 0 5px;
            appearance: none; /* Remove default input arrows */
            -moz-appearance: textfield; /* Firefox */
        }

        .cart-quantity-controls input::-webkit-outer-spin-button,
        .cart-quantity-controls input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }


        .cart-item-remove {
            background: none;
            border: none;
            color: #757575;
            cursor: pointer;
            font-size: 12px;
            text-align: left; /* Align remove button to the left */
            padding: 0; /* Reset padding */
            margin-top: 5px; /* Add a little space above remove button */
        }
        .cart-item-remove:hover {
            color: #f85606;
        }


        .cart-summary-total {
            margin-top: 20px;
            text-align: right;
            font-size: 18px;
            border-top: 1px solid #e8e8e8;
            padding-top: 15px;
        }

        .cart-summary-total span {
            font-weight: bold;
            color: #f85606;
        }

        .cart-actions {
            margin-top: 10px;
            display:flex;
            justify-content:center;
        }

        .cart-checkout-button, .cart-continue-shopping-button {
            padding: 8px 10px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin: 5px;
        }

        .cart-checkout-button {
            background-color: #f85606;
            color: #fff;
        }

        .cart-checkout-button:hover {
            background-color: #e64500;
        }

        .cart-continue-shopping-button {
            background-color: #fff;
            color: #757575;
            border: 1px solid #e8e8e8;
        }

        .cart-continue-shopping-button:hover {
            background-color: #f9f9f9;
        }

        .cart-summary-details { /* New section for subtotal, shipping etc. */
            margin-top: 20px;
            padding: 15px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        .cart-summary-details h3 {
            font-size: 16px;
            margin-bottom: 10px;
            color: #212121;
            border-bottom: 1px solid #e8e8e8;
            padding-bottom: 5px;
        }

        .cart-summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
            color: #555;
        }

        .cart-summary-row.total-row {
            font-size: 16px;
            font-weight: bold;
            color: #212121;
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px solid #e8e8e8;
        }
        .cart-summary-row.total-row span {
            color: #f85606;
        }

         @media (min-width: 768px) {
            .cart-container {
                padding: 20px;
            }

            .cart-summary,  .cart-summary-details {
                padding: 25px;
            }

            .cart-summary h2 {
                font-size: 24px;
                padding-bottom: 12px;
            }

            .cart-item {
                padding: 20px 0;
            }

            .cart-item img {
                width: 120px;
                height: 120px;
            }

            .cart-item-name {
                font-size: 18px;
            }

            .cart-item-price {
                font-size: 16px;
            }

            .cart-summary-details h3 {
                font-size: 18px;
                padding-bottom: 8px;
            }

            .cart-summary-row {
                font-size: 16px;
                margin-bottom: 10px;
            }

            .cart-summary-row.total-row {
                font-size: 20px;
                padding-top: 12px;
            }

            .cart-checkout-button, .cart-continue-shopping-button {
                padding: 15px 30px;
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <a href="index.html" class="header-back"><i class="fas fa-arrow-left"></i></a>
        <div class="header-search">
            <input type="text" placeholder="Search in Daazo">
        </div>
        <div class="header-icons">
            <a href="cart.html"><i class="fas fa-shopping-cart"></i><span class="cart-count">0</span></a>
            <a href="#"><i class="fas fa-ellipsis-v"></i></a>
        </div>
    </div>

    <div class="cart-container">
        <div class="cart-summary">
            <h2>Shopping Cart</h2>
            <div id="cartItems">
                <!-- Cart items will be dynamically added here by JavaScript -->
            </div>


        </div>

        <div class="cart-summary-details">
            <h3>Order Summary</h3>
            <div class="cart-summary-row">
                <span>Subtotal</span>
                <span>৳ <span id="cartSubtotalValue">0.00</span></span>
            </div>
            <div class="cart-summary-row">
                <span>Shipping Fee</span>
                <span>৳ <span id="cartShippingFee">50.00</span></span>  <!-- Static shipping fee for example -->
            </div>
            <div class="cart-summary-row total-row">
                <span>Total</span>
                <span>৳ <span id="cartTotalValue">0.00</span></span>
            </div>
        </div>


        <div class="cart-actions">
            <button class="cart-checkout-button" id="cartCheckoutBtn">Proceed to Checkout</button>
            <button class="cart-continue-shopping-button" onclick="window.location.href='index.html'">Continue Shopping</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            renderCartItems();
            updateCartCountDisplay();

            const cartCheckoutBtn = document.getElementById('cartCheckoutBtn');
            cartCheckoutBtn.addEventListener('click', () => {
                const cart = JSON.parse(localStorage.getItem('shoppingCart')) || [];
                if (cart.length > 0) {
                    window.location.href = 'cart2.html';
                } else {
                    alert('Your cart is empty. Add items to checkout.');
                }
            });
        });

        function renderCartItems() {
            const cart = JSON.parse(localStorage.getItem('shoppingCart')) || [];
            const container = document.getElementById('cartItems');
            let subtotal = 0;
            let itemsHTML = '';

            if (cart.length === 0) {
                container.innerHTML = '<p>Your cart is empty.</p>';
                document.getElementById('cartSubtotalValue').textContent = '0.00';
                document.getElementById('cartTotalValue').textContent = '0.00';
                return;
            }

            cart.forEach((product, index) => {
                const itemTotal = product.price * product.quantity;
                subtotal += itemTotal;
                itemsHTML += `
                    <div class="cart-item">
                        <img src="${product.image}" alt="${product.name}">
                        <div class="cart-item-details">
                            <div class="cart-item-name">${product.name}</div>
                            <div class="cart-item-price">৳ ${product.price.toFixed(2)}</div>
                            <p>Size: ${product.size}, Color: ${product.color}</p>
                            <div class="cart-quantity-controls">
                                <button onclick="updateQuantity(${index}, -1)">-</button>
                                <input type="number" value="${product.quantity}" min="1" onchange="changeQuantity(${index}, this.value)">
                                <button onclick="updateQuantity(${index}, 1)">+</button>
                            </div>
                             <button class="cart-item-remove" onclick="removeFromCart(${index})">Remove</button>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = itemsHTML;
            document.getElementById('cartSubtotalValue').textContent = subtotal.toFixed(2);
            const shippingFee = 80; // Static shipping fee
            document.getElementById('cartShippingFee').textContent = shippingFee.toFixed(2);
            const total = subtotal + shippingFee;
            document.getElementById('cartTotalValue').textContent = total.toFixed(2);
        }


        function updateQuantity(index, change) {
            let cart = JSON.parse(localStorage.getItem('shoppingCart')) || [];
            if (cart[index]) {
                let newQuantity = parseInt(cart[index].quantity) + change;
                if (newQuantity < 1) newQuantity = 1; // Minimum quantity is 1
                cart[index].quantity = newQuantity;
                localStorage.setItem('shoppingCart', JSON.stringify(cart));
                renderCartItems(); // Re-render cart to update display
                updateCartCountDisplay();
            }
        }

        function changeQuantity(index, newQuantity) {
            let cart = JSON.parse(localStorage.getItem('shoppingCart')) || [];
             if (cart[index]) {
                let quantity = parseInt(newQuantity);
                if(isNaN(quantity) || quantity < 1) quantity = 1;
                cart[index].quantity = quantity;
                localStorage.setItem('shoppingCart', JSON.stringify(cart));
                renderCartItems(); // Re-render cart to update display
                updateCartCountDisplay();
            }
        }


        function removeFromCart(indexToRemove) {
            let cart = JSON.parse(localStorage.getItem('shoppingCart')) || [];
            cart = cart.filter((item, index) => index !== indexToRemove);
            localStorage.setItem('shoppingCart', JSON.stringify(cart));
            renderCartItems();
            updateCartCountDisplay();
        }

        function getCartCount() {
            const cart = JSON.parse(localStorage.getItem('shoppingCart')) || [];
            return cart.reduce((total, item) => total + parseInt(item.quantity), 0);
        }

        function updateCartCountDisplay() {
            const cartCountSpan = document.querySelector('.cart-count');
            if (cartCountSpan) {
                cartCountSpan.textContent = getCartCount();
            }
        }
    </script>
</body>
</html>